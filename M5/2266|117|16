GLOBAL
LINK 800
COPY -1 X
MARK RECURS
REPL R1
REPL R11
REPL R3
REPL R33
MARK N
COPY #NERV X
HOST T
COPY T M
COPY 29 T
MARK W
SUBI T 1 T
TJMP W
COPY X M
HALT
MARK R1
TEST X = 1
TJMP END
LINK 1
COPY -1 X
JUMP RECURS
MARK R3
TEST X = 3
TJMP END
LINK 3
COPY -3 X
JUMP RECURS
MARK R11
TEST X = -1
TJMP END
LINK -1
COPY 1 X
JUMP RECURS
MARK R33
TEST X = -3
TJMP END
LINK -3
COPY 3 X
JUMP RECURS
MARK END
============
GLOBAL
MAKE
MARK C
COPY M T
FJMP END
COPY T F
COPY M F
JUMP C
MARK END
============
GLOBAL
COPY 70 T
MARK W
SUBI T 1 T
TJMP W
COPY 0 M
NOOP
GRAB 400
MARK COUNT
SEEK 1
ADDI X 1 X
TEST EOF
FJMP COUNT
DIVI X -2 X
ADDI X 1 X
REPL RECV
SEEK -999
MARK SEND_LOOP
MULI X -1 X
COPY F M
SEEK X
COPY F M
MULI X -1 X
TEST EOF
TJMP NEXT_SEND
SEEK X
SEEK -1
JUMP SEND_LOOP
MARK RECV
MAKE
MARK RECV_LOOP
COPY M T
FJMP END
COPY T F
COPY M F
JUMP RECV_LOOP
MARK END
HALT
MARK NEXT_SEND
COPY 0 M
WIPE
GRAB 401
MARK SORT
SEEK -999
MARK SORT_LOOP
COPY F X
SEEK 1
TEST X > F
TJMP INVERT
SEEK -1
JUMP SORT_LOOP
MARK INVERT
COPY F X
SEEK -3
COPY F T
SEEK -1
COPY X F
SEEK 1
COPY T F
SEEK -2
COPY F T
SEEK -3
COPY F X
SEEK -1
COPY T F
SEEK 1
COPY X F
JUMP SORT
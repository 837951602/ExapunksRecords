GLOBAL
GRAB 300
COPY F T
COPY F X
DROP
LINK 800
MAKE
DROP
REPL GATE
LINK 801
GRAB 200
MARK L
COPY M X
MARK PRES
TEST F = X
TJMP PRES_OK
SEEK 10
JUMP PRES
MARK PRES_OK
COPY 10 T
MARK L1
COPY F M
SUBI T 1 T
TJMP L1
SEEK -9999
TEST MRD
TJMP L


COPY 100 X
MARK MASTER
COPY M T
FJMP END
REPL SLAVES
COPY 29 T
MARK SW
SUBI T 1 T
TJMP SW
COPY M T
REPL SLAVER
COPY 29 T
MARK RW
SUBI T 1 T
TJMP RW
JUMP MASTER



MARK SLAVES
SUBI T X X
TEST X > 99
TJMP END
TEST X < 0
TJMP END
ADDI 2000 X T
DIVI T 10 T
SWIZ X 10 X
GRAB T
SEEK X
COPY 10 T
MARK RECEE
MODI -1 T T
COPY F M
JUMP RECEE

MARK SLAVER
SUBI T X X
TEST X > 99
TJMP END
TEST X < 0
TJMP END
ADDI 2000 X T
DIVI T 10 T
SWIZ X 10 X
GRAB T
SEEK X
COPY 10 T
MARK RECE
MODI -1 T T
COPY M F
JUMP RECE

MARK GATE
COPY T M
MAKE
COPY 10 T
MARK GL1
COPY M F
COPY 0 F
SUBI T 1 T
TJMP GL1
COPY X M
SEEK -19
COPY 10 T
MARK GL2
COPY M F
SEEK 1
SUBI T 1 T
TJMP GL2
COPY 0 F
SEEK -999

COPY 805 X
MARK LINKL
SWIZ X 100 T
REPL LINK
SUBI X 1 X
TEST X > 801
TJMP LINKL
MARK GLOOP
COPY F T
COPY T M
COPY T M
COPY T M
COPY T M
COPY T M
FJMP CLEAN
REPL REP
COPY 24 T
MARK WG
SUBI T 1 T
TJMP WG
JUMP GLOOP

MARK LINK
LINK X
COPY T X
JUMP MASTER
MARK REP
GRAB 400
COPY 10 T
MARK RE
COPY M F
SUBI T 1 T
TJMP RE
SEEK -9999
COPY 10 T
MARK RSWS
SUBI T 1 T
TJMP RSWS
COPY 10 T
MARK SE
COPY F M
SUBI T 1 T
TJMP SE
MARK END
GRAB 401
MARK CLEAN
WIPE
GRAB 400
WIPE
GLOBAL
COPY 800 T
MARK INIT
LINK T
COPY M T
MARK INIT2
REPL BUDDY
COPY M X
GRAB 200
SEEK 1
TEST F = X
TJMP INITT
MARK INITLOOP
SEEK 4
TEST F = X
FJMP INITLOOP
MARK INITT
COPY 1 M
COPY 1 M
MODE
JUMP TIME
MARK LOOP
SEEK 4
MARK LOOP2
TEST F = X
FJMP LOOP

MARK TIME
TEST F < M
FJMP DEST
VOID M
SEEK 3
REPL S1
JUMP LOOP2

MARK S1
COPY 1 M

MARK DEST
TEST F = M
TJMP N
SEEK 2
REPL S1
JUMP LOOP2
MARK N
SEEK -4
COPY 0 M
MODE 
COPY F M
VOID F
VOID F
VOID F
COPY F X
SEEK -2
VOID F
VOID F
DROP
COPY M T
FJMP BUUDYL
REPL INIT2
MARK NEXT
COPY 13 T
MARK W
SUBI T 1 T
TJMP W
TEST MRD
TJMP BUUDYL
COPY 0 M
COPY 0 M
COPY M T
REPL INIT
JUMP NEXT


MARK BUDDY
MAKE
COPY T F
COPY M T
FJMP WIPE
MODE
MARK BUUDYL
SEEK -1
COPY X M
COPY F M
COPY M T
TJMP BUUDYL
MARK WIPE
WIPE
============
GLOBAL
GRAB 300

MARK LOOP
COPY F T
COPY F M
COPY T M
COPY 13 T
MARK W
SUBI T 1 T
TJMP W
COPY M T
FJMP NEXT
COPY T X
TEST X = 1
TJMP W
REPL 301
TEST EOF
TJMP EOF
SEEK -1
COPY 1 X
JUMP LOOP

MARK NEXT
MODE
COPY X M
COPY M X
MODE
COPY X M
COPY 0 X
SEEK -2
JUMP LOOP

MARK EOF
COPY 0 M
MODE
MARK CLOOP
COPY 0 M
NOOP
TEST MRD
DIVI T T T
VOID M
JUMP CLOOP

MARK 301
GRAB 301
SEEK 999
COPY X F
============
LOCAL
VOID M     ; 1
COPY 801 M ; USA -> FRA
COPY M T
COPY 800 M ; FRA -> GBR
FJMP CANADA
COPY M T
TJMP UK
MARK GERMANY
COPY 801 M ; FRA -> GER
COPY M T
TJMP GERMANY
COPY 802 M ; FRA -> SPA
VOID M     ; 1
MARK UK
COPY 803 M ; SPA -> POR
VOID M
COPY 801 M ; FRA -> GER
VOID M
HALT
MARK CANADA
VOID M     ; 1
COPY 800 M ; CAN -> ICE
VOID M
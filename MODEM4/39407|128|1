LOCAL
GRAB 300
COPY 11 X
MARK COUNT
TEST F > -1
SUBI X T X
TEST EOF
FJMP COUNT

MARK INIT
TEST X = 3
TJMP START
SEEK -1
TEST F > -1
SEEK -1
FJMP INIT
COPY -1 F
ADDI X 1 X
JUMP INIT

MARK START
REPL 3
COPY 1000 T
MARK LOOP
SUBI T 1 T
FJMP END
SEEK -11
@REP 11
COPY F X
REPL SEND
@END
COPY T X
COPY 5 T
MARK W
SUBI T 1 T
TJMP W
COPY X T
JUMP LOOP

MARK END
DROP
MODE
GRAB 301
COPY 88 T
MARK ELOOP
COPY M F
SUBI T 1 T
TJMP ELOOP
HALT


MARK SEND
TEST X > -1
FJMP X
JUMP X1
MARK X
COPY M X
MARK X1
MODE
COPY X M
HALT


MARK 3
COPY 1 X
MARK L3
SWIZ X 3 M
SWIZ X 2 M
SWIZ X 1 M
ADDI X 1 X
TEST X = 1000
FJMP L3
============
GLOBAL
LINK 800
MAKE
COPY 999 X
MARK DIAL
TEST X = 0
TJMP END
SUBI X 1 X
@REP 11
COPY M F
@END
SEEK -11
@REP 11
COPY F #DIAL
@END
COPY #DIAL T
TJMP DIAL2
SEEK -11
JUMP DIAL
MARK DIAL2
COPY -1 #DIAL
JUMP DIAL
MARK END
SEEK -999
COPY 88 T
MARK ELOOP
COPY F M
SUBI T 1 T
TJMP ELOOP
MARK TRUEND
WIPE